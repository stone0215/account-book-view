(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-c879"],{"7BHm":function(e,t,a){"use strict";a.d(t,"a",function(){return d});var o=a("Q2AE"),l=a("QC1J"),i=a("95hE"),n=a("Kz9k"),s=a("O+mA"),r=a("rrfz"),c=a("zbHW"),u=a("HY6s");function d(e,t){var a=null;switch(e){case"account":a=o.a.state.setting.menu.account.accountSelectList;break;case"account_type":a=l.a;break;case"asset_type":a=r.c;break;case"code_type":a=i.a;break;case"estate_excute_type":a=u.a;break;case"estate_status":a=u.b;break;case"estate_type":a=u.c;break;case"excute_type":a=u.f;break;case"feedback_way":a=n.a;break;case"fx_code":a=s.a;break;case"initial_type":a=r.a;break;case"insurance_excute_type":a=u.d;break;case"pay_type":a=u.e;break;case"loan_type":a=c.b;break;case"loan_excute_type":a=c.a;break;case"yes_no":a=r.d;break;default:return t}var d=a.find(function(e){return e.key===t});return d?d.value:t}},"95hE":function(e,t,a){"use strict";a.d(t,"a",function(){return o});var o=[{key:"Floating",value:"浮動支出",addable:!0},{key:"Income",value:"主動收入",addable:!0},{key:"Fixed",value:"固定支出",addable:!0},{key:"Passive",value:"被動收入",addable:!0}]},HY6s:function(e,t,a){"use strict";a.d(t,"f",function(){return o}),a.d(t,"e",function(){return l}),a.d(t,"d",function(){return i}),a.d(t,"b",function(){return n}),a.d(t,"c",function(){return s}),a.d(t,"a",function(){return r}),a.d(t,"g",function(){return c});var o=[{key:"buy",value:"買入"},{key:"sell",value:"賣出"},{key:"stock",value:"配股"},{key:"cash",value:"配息"}],l=[{key:"month",value:"月繳"},{key:"season",value:"季繳"},{key:"year",value:"年繳"},{key:"once",value:"躉繳"}],i=[{key:"pay",value:"扣款"},{key:"cash",value:"配息"},{key:"expect",value:"預期價值"},{key:"return",value:"贖回"}],n=[{key:"idle",value:"閒置"},{key:"live",value:"居住"},{key:"rent",value:"出租"},{key:"sold",value:"賣出"}],s=[{key:"house",value:"獨棟透天"},{key:"townhouse",value:"連棟透天"},{key:"condo",value:"公寓"},{key:"apartment",value:"電梯大樓"},{key:"highrise",value:"商辦"},{key:"land",value:"土地"}],r=[{key:"downPayment",value:"初始本金/頭期款"},{key:"tax",value:"稅金"},{key:"fee",value:"雜費"},{key:"insurance",value:"保險"},{key:"fix",value:"修繕"},{key:"rent",value:"租金"},{key:"deposit",value:"押金"},{key:"sold",value:"賣出"},{key:"marketValue",value:"市值"}],c=[{key:"TW",value:"台灣"},{key:"US",value:"美國"}]},Kz9k:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var o=[{key:"None",value:"無"},{key:"Cash",value:"現金"},{key:"Point",value:"紅利"}]},"O+mA":function(e,t,a){"use strict";a.d(t,"a",function(){return o});var o=[{value:"新台幣",key:"TWD",inUse:!0},{value:"美元",key:"USD",inUse:!0},{value:"港幣",key:"HKD",inUse:!1},{value:"英磅",key:"GBP",inUse:!1},{value:"澳幣",key:"AUD",inUse:!1},{value:"新加坡幣",key:"SGD",inUse:!1},{value:"瑞士法郎",key:"CHF",inUse:!1},{value:"加幣",key:"CAD",inUse:!1},{value:"日圓",key:"JPY",inUse:!0},{value:"瑞典克郎",key:"SEK",inUse:!1},{value:"歐元",key:"EUR",inUse:!1},{value:"紐西蘭幣",key:"NZD",inUse:!1},{value:"泰銖",key:"THB",inUse:!1},{value:"南非幣",key:"ZAR",inUse:!1},{value:"人民幣",key:"CNY",inUse:!1}]},POQ2:function(e,t,a){"use strict";a.r(t);var o=a("QbLZ"),l=a.n(o),i=a("L2JU"),n=a("7BHm"),s=a("v717"),r=a("gDS+"),c=a.n(r),u=a("wd/R"),d=a.n(u),m=a("HY6s"),f={props:{showDialog:{type:Boolean,default:!1},rawData:{type:Object,default:null}},data:function(){return{form:{},estateExcuteType:m.a}},watch:{rawData:function(e){this.form=JSON.parse(c()(e)),this.form.excute_date&&(this.form.excute_date=d()(this.form.excute_date+" UTC"))}},methods:{hideDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$emit("hideDialog",e)},submitForm:function(){var e=this;(this.rawData.distinct_number?this.$store.dispatch("UpdateEstateDetailData",this.form):this.$store.dispatch("AddEstateDetailData",this.form)).then(function(t){e.hideDialog(!0)})}}},p=a("KHd+"),_=Object(p.a)(f,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.showDialog,"show-close":!1,"append-to-body":"",title:"紀錄"}},[a("el-form",{attrs:{"label-width":"130px"}},[a("el-form-item",{attrs:{label:"日期"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"選擇日期"},model:{value:e.form.excute_date,callback:function(t){e.$set(e.form,"excute_date",t)},expression:"form.excute_date"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"類型"}},[a("el-select",{attrs:{placeholder:"選擇類型"},model:{value:e.form.estate_excute_type,callback:function(t){e.$set(e.form,"estate_excute_type",t)},expression:"form.estate_excute_type"}},e._l(e.estateExcuteType,function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"金額"}},[a("el-input",{staticClass:"input-medium",attrs:{autocomplete:"off"},model:{value:e.form.excute_price,callback:function(t){e.$set(e.form,"excute_price",t)},expression:"form.excute_price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"備註"}},[a("el-input",{attrs:{rows:3,autocomplete:"off",type:"textarea"},model:{value:e.form.memo,callback:function(t){e.$set(e.form,"memo",t)},expression:"form.memo"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.hideDialog}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("確定")])],1)],1)},[],!1,null,null,null);_.options.__file="DetailOperatingDialog.vue";var h={components:{OperatingDialog:_.exports},props:{showDialog:{type:Boolean,default:!1},parentData:{type:Object,default:null}},data:function(){return{showMaintainDialog:!1,selectedData:{}}},computed:l()({},Object(i.c)({queryList:function(e){return e.otherAssets.estateAsset.estateDetailList}})),watch:{parentData:{immediate:!0,deep:!0,handler:function(e){e.estate_id&&this.$store.dispatch("GetEstateDetailList",e.estate_id)}}},methods:{formatDateTime:function(e,t,a){return Object(s.a)(a)},mappingName:function(e,t,a){return Object(n.a)(t.property,a)},hideDialog:function(){this.$emit("hideDialog")},openMaintainDetailDialog:function(e){this.showMaintainDialog=!0,this.selectedData=e||{estate_id:this.parentData.estate_id,excute_amount:"",excute_price:"",memo:""}},closeMaintainDialog:function(e){this.showMaintainDialog=!1,e&&this.$store.dispatch("GetEstateAssetList",this.parentData.asset_id)},deleteDetail:function(e){var t=this;this.$confirm("確定要刪除嗎？","",{confirmButtonText:"確定",cancelButtonText:"取消"}).then(function(){return t.$store.dispatch("DeleteEstateDetailData",e)}).then(function(){t.$store.dispatch("GetEstateAssetList",t.parentData.asset_id)}).catch(function(){})}}},b=Object(p.a)(h,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.showDialog,title:e.parentData.estate_name+" 歷程",width:"80%"},on:{close:e.hideDialog}},[a("el-table",{attrs:{data:e.queryList,stripe:"","header-cell-class-name":"table-header"}},[a("el-table-column",{attrs:{formatter:e.formatDateTime,label:"日期",prop:"excute_date",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{formatter:e.mappingName,label:"類型",prop:"estate_excute_type",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"金額",prop:"excute_price",align:"right"}}),e._v(" "),a("el-table-column",{attrs:{label:"備註",prop:"memo",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(a){e.openMaintainDetailDialog(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.deleteDetail(t.row.distinct_number)}}},[e._v("刪除")])]}}])})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.openMaintainDetailDialog()}}},[e._v("新增")])],1),e._v(" "),a("operating-dialog",{attrs:{"show-dialog":e.showMaintainDialog,"raw-data":e.selectedData},on:{hideDialog:e.closeMaintainDialog}})],1)},[],!1,null,null,null);b.options.__file="DetailDialog.vue";var v=b.exports,g={props:{showDialog:{type:Boolean,default:!1},rawData:{type:Object,default:null}},data:function(){return{estateType:m.c,estateStatus:m.b,form:{}}},computed:l()({},Object(i.c)({loanSelectList:function(e){return e.otherAssets.liability.loanSelectList}})),watch:{rawData:function(e){e&&(this.form=JSON.parse(c()(e)),this.form.obtain_date&&(this.form.obtain_date=d()(this.form.obtain_date+" UTC")))}},created:function(){this.$store.dispatch("GetLoanSelection")},methods:{hideDialog:function(){this.$emit("hideDialog")},submitForm:function(){var e=this;(this.form.estate_id?this.$store.dispatch("UpdateEstateAssetData",this.form):this.$store.dispatch("AddEstateAssetData",this.form)).then(function(t){e.$store.dispatch("GetEstateAssetList",e.rawData.asset_id),e.hideDialog()})}}},D=Object(p.a)(g,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.showDialog,"show-close":!1,title:"不動產"}},[a("el-form",{attrs:{"label-width":"130px"}},[a("el-form-item",{attrs:{label:"名稱"}},[a("el-input",{staticClass:"input-medium",attrs:{autocomplete:"off"},model:{value:e.form.estate_name,callback:function(t){e.$set(e.form,"estate_name",t)},expression:"form.estate_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"類別"}},[a("el-select",{attrs:{placeholder:"選擇類別"},model:{value:e.form.estate_type,callback:function(t){e.$set(e.form,"estate_type",t)},expression:"form.estate_type"}},e._l(e.estateType,function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"地址"}},[a("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.estate_address,callback:function(t){e.$set(e.form,"estate_address",t)},expression:"form.estate_address"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"獲得日期"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"選擇日期"},model:{value:e.form.obtain_date,callback:function(t){e.$set(e.form,"obtain_date",t)},expression:"form.obtain_date"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"貸款"}},[a("el-select",{attrs:{placeholder:"選擇對應貸款"},model:{value:e.form.loan_id,callback:function(t){e.$set(e.form,"loan_id",t)},expression:"form.loan_id"}},e._l(e.loanSelectList,function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"狀態"}},[a("el-select",{attrs:{placeholder:"選擇狀態"},model:{value:e.form.estate_status,callback:function(t){e.$set(e.form,"estate_status",t)},expression:"form.estate_status"}},e._l(e.estateStatus,function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"備註"}},[a("el-input",{attrs:{rows:3,autocomplete:"off",type:"textarea",placeholder:"記錄坪數/建造日/總樓高/有什麼車位/格局/有無管理"},model:{value:e.form.memo,callback:function(t){e.$set(e.form,"memo",t)},expression:"form.memo"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.hideDialog}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("確定")])],1)],1)},[],!1,null,null,null);D.options.__file="OperatingDialog.vue";var y={components:{DetailDialog:v,OperatingDialog:D.exports},props:{assetId:{type:Number,default:0}},data:function(){return{showDialog:!1,showDetailDialog:!1,selectedDetailData:{},selectedData:{}}},computed:l()({},Object(i.c)({queryList:function(e){return e.otherAssets.estateAsset.estateContentList}})),watch:{assetId:{immediate:!0,handler:function(e){this.$store.dispatch("GetEstateAssetList",e)}}},methods:{formatDateTime:function(e,t,a){return Object(s.a)(a)},mappingName:function(e,t,a){return Object(n.a)(t.property,a)},hideDialog:function(){this.$emit("hideDialog")},openDialog:function(e){this.showDialog=!0,this.selectedData=e||{asset_id:this.assetId,pay_day:null,memo:null}},openDetailDialog:function(e){this.showDetailDialog=!0,this.selectedDetailData=e},deleteEstateAsset:function(e){var t=this;this.$confirm("確定要刪除嗎？","",{confirmButtonText:"確定",cancelButtonText:"取消"}).then(function(){t.$store.dispatch("DeleteEstateAssetData",e)}).catch(function(){})}}},k=Object(p.a)(y,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.openDialog()}}},[e._v("新增")])],1),e._v(" "),a("el-table",{attrs:{data:e.queryList,stripe:"","header-cell-class-name":"table-header"}},[a("el-table-column",{attrs:{label:"名稱",align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.openDetailDialog(t.row)}}},[e._v(e._s(t.row.estate_name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{formatter:e.formatDateTime,label:"取得日期",prop:"obtain_date",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{formatter:e.mappingName,label:"類型",prop:"estate_type",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"地址",prop:"estate_address",align:"right"}}),e._v(" "),a("el-table-column",{attrs:{label:"貸款",prop:"loan_name",align:"right"}}),e._v(" "),a("el-table-column",{attrs:{label:"目前總花費",prop:"cost",align:"right"}}),e._v(" "),a("el-table-column",{attrs:{label:"平均月現金流",prop:"profit",align:"right"}}),e._v(" "),a("el-table-column",{attrs:{formatter:e.mappingName,label:"狀態",prop:"estate_status",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(a){e.openDialog(t.row)}}},[e._v("\n          编辑\n        ")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.deleteEstateAsset(t.row.estate_id)}}},[e._v("\n          刪除\n        ")])]}}])})],1),e._v(" "),a("operating-dialog",{attrs:{"show-dialog":e.showDialog,"raw-data":e.selectedData},on:{hideDialog:function(t){e.showDialog=!1}}}),e._v(" "),a("detail-dialog",{attrs:{"show-dialog":e.showDetailDialog,"parent-data":e.selectedDetailData},on:{hideDialog:function(t){e.showDetailDialog=!1}}})],1)},[],!1,null,null,null);k.options.__file="index.vue";var x=k.exports,w={props:{showDialog:{type:Boolean,default:!1},rawData:{type:Object,default:null}},data:function(){return{form:{},insuranceExcuteType:m.d}},watch:{rawData:function(e){this.form=JSON.parse(c()(e)),this.form.excute_date&&(this.form.excute_date=d()(this.form.excute_date+" UTC"))}},methods:{hideDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$emit("hideDialog",e)},submitForm:function(){var e=this;(this.rawData.distinct_number?this.$store.dispatch("UpdateInsuranceDetailData",this.form):this.$store.dispatch("AddInsuranceDetailData",this.form)).then(function(t){e.hideDialog(!0)})}}},$=Object(p.a)(w,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.showDialog,"show-close":!1,"append-to-body":"",title:"資料登錄"}},[a("el-form",{attrs:{"label-width":"130px"}},[a("el-form-item",{attrs:{label:"日期"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"選擇日期"},model:{value:e.form.excute_date,callback:function(t){e.$set(e.form,"excute_date",t)},expression:"form.excute_date"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"類型"}},[a("el-select",{attrs:{placeholder:"選擇類型"},model:{value:e.form.insurance_excute_type,callback:function(t){e.$set(e.form,"insurance_excute_type",t)},expression:"form.insurance_excute_type"}},e._l(e.insuranceExcuteType,function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"金額"}},[a("el-input",{staticClass:"input-medium",attrs:{autocomplete:"off"},model:{value:e.form.excute_price,callback:function(t){e.$set(e.form,"excute_price",t)},expression:"form.excute_price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"備註"}},[a("el-input",{attrs:{rows:3,autocomplete:"off",type:"textarea"},model:{value:e.form.memo,callback:function(t){e.$set(e.form,"memo",t)},expression:"form.memo"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.hideDialog}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("確定")])],1)],1)},[],!1,null,null,null);$.options.__file="DetailOperatingDialog.vue";var O={components:{OperatingDialog:$.exports},props:{showDialog:{type:Boolean,default:!1},parentData:{type:Object,default:null}},data:function(){return{showMaintainDialog:!1,selectedData:{}}},computed:l()({},Object(i.c)({queryList:function(e){return e.otherAssets.insuranceAsset.insuranceDetailList}})),watch:{parentData:{immediate:!0,deep:!0,handler:function(e){e.insurance_id&&this.$store.dispatch("GetInsuranceDetailList",e.insurance_id)}}},methods:{formatDateTime:function(e,t,a){return Object(s.a)(a)},mappingName:function(e,t,a){return Object(n.a)(t.property,a)},hideDialog:function(){this.$emit("hideDialog")},openMaintainDetailDialog:function(e){this.showMaintainDialog=!0,this.selectedData=e||{insurance_id:this.parentData.insurance_id,excute_amount:"",excute_price:"",memo:""}},closeMaintainDialog:function(e){this.showMaintainDialog=!1,e&&this.$store.dispatch("GetInsuranceAssetList",this.parentData.asset_id)},deleteDetail:function(e){var t=this;this.$confirm("確定要刪除嗎？","",{confirmButtonText:"確定",cancelButtonText:"取消"}).then(function(){return t.$store.dispatch("DeleteInsuranceDetailData",e)}).then(function(){t.$store.dispatch("GetInsuranceAssetList",t.parentData.asset_id)}).catch(function(){})}}},L=Object(p.a)(O,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.showDialog,title:e.parentData.insurance_name+" 歷史紀錄",width:"80%"},on:{close:e.hideDialog}},[a("el-table",{attrs:{data:e.queryList,stripe:"","header-cell-class-name":"table-header"}},[a("el-table-column",{attrs:{formatter:e.formatDateTime,label:"日期",prop:"excute_date",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{formatter:e.mappingName,label:"類型",prop:"insurance_excute_type",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"金額",prop:"excute_price",align:"right"}}),e._v(" "),a("el-table-column",{attrs:{label:"備註",prop:"memo",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(a){e.openMaintainDetailDialog(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.deleteDetail(t.row.distinct_number)}}},[e._v("刪除")])]}}])})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.openMaintainDetailDialog()}}},[e._v("新增")])],1),e._v(" "),a("operating-dialog",{attrs:{"show-dialog":e.showMaintainDialog,"raw-data":e.selectedData},on:{hideDialog:e.closeMaintainDialog}})],1)},[],!1,null,null,null);L.options.__file="DetailDialog.vue";var A=L.exports,S=a("rrfz"),T={props:{showDialog:{type:Boolean,default:!1},rawData:{type:Object,default:null}},data:function(){return{insurancePayType:m.e,yesNo:S.d,form:{asset_id:null,out_account_id:null}}},computed:l()({},Object(i.c)({accountSelectList:function(e){return e.setting.menu.account.accountSelectList}})),watch:{rawData:function(e){this.form=JSON.parse(c()(e))}},methods:{hideDialog:function(){this.$emit("hideDialog")},submitForm:function(){var e=this;(this.form.insurance_id?this.$store.dispatch("UpdateInsuranceAssetData",this.form):this.$store.dispatch("AddInsuranceAssetData",this.form)).then(function(t){e.hideDialog()})},getAccountName:function(e,t){var a=this.accountSelectList.find(function(t){return t.key===e}).value;"in"===t?(this.form.in_account_name=a,this.form.out_account_id=e,this.form.out_account_name=a):this.form.out_account_name=a}}},C=Object(p.a)(T,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.showDialog,"show-close":!1,title:"保險資產"}},[a("el-form",{attrs:{"label-width":"130px"}},[a("el-form-item",{attrs:{label:"名稱"}},[a("el-input",{staticClass:"input-medium",attrs:{disabled:!!e.form.insurance_id,autocomplete:"off"},model:{value:e.form.insurance_name,callback:function(t){e.$set(e.form,"insurance_name",t)},expression:"form.insurance_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"購買日期"}},[a("el-date-picker",{attrs:{disabled:!!e.form.insurance_id,type:"date",placeholder:"選擇日期"},model:{value:e.form.start_date,callback:function(t){e.$set(e.form,"start_date",t)},expression:"form.start_date"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"繳別"}},[a("el-select",{attrs:{placeholder:"選擇繳別"},model:{value:e.form.pay_type,callback:function(t){e.$set(e.form,"pay_type",t)},expression:"form.pay_type"}},e._l(e.insurancePayType,function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"繳費日期"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"月:dd/ 季:mm/dd,mm/dd.../ 年:mm/dd/ 躉:免填"},model:{value:e.form.pay_day,callback:function(t){e.$set(e.form,"pay_day",t)},expression:"form.pay_day"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"預計到期日"}},[a("el-date-picker",{attrs:{disabled:!!e.form.insurance_id,type:"date",placeholder:"選擇日期"},model:{value:e.form.expected_end_date,callback:function(t){e.$set(e.form,"expected_end_date",t)},expression:"form.expected_end_date"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"預計投入總額"}},[a("el-input",{staticClass:"input-medium",attrs:{disabled:!!e.form.insurance_id,autocomplete:"off"},model:{value:e.form.expected_spend,callback:function(t){e.$set(e.form,"expected_spend",t)},expression:"form.expected_spend"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"入金帳戶"}},[a("el-select",{attrs:{placeholder:"選擇帳戶類別"},on:{change:function(t){return e.getAccountName(t,"in")}},model:{value:e.form.in_account_id,callback:function(t){e.$set(e.form,"in_account_id",t)},expression:"form.in_account_id"}},e._l(e.accountSelectList,function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"出金帳戶"}},[a("el-select",{attrs:{placeholder:"選擇帳戶類別"},on:{change:function(t){return e.getAccountName(t,"out")}},model:{value:e.form.out_account_id,callback:function(t){e.$set(e.form,"out_account_id",t)},expression:"form.out_account_id"}},e._l(e.accountSelectList,function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"是否結束"}},[a("el-radio-group",{model:{value:e.form.has_closed,callback:function(t){e.$set(e.form,"has_closed",t)},expression:"form.has_closed"}},e._l(e.yesNo,function(t){return a("el-radio",{key:t.key,attrs:{label:t.key}},[e._v(e._s(t.value))])}))],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.hideDialog}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("確定")])],1)],1)},[],!1,null,null,null);C.options.__file="OperatingDialog.vue";var j={components:{DetailDialog:A,OperatingDialog:C.exports},props:{assetId:{type:Number,default:0}},data:function(){return{showDialog:!1,showDetailDialog:!1,selectedDetailData:{},selectedData:{}}},computed:l()({},Object(i.c)({queryList:function(e){return e.otherAssets.insuranceAsset.insuranceContentList}})),watch:{assetId:{immediate:!0,handler:function(e){this.$store.dispatch("GetInsurenceAssetList",e)}}},methods:{formatDateTime:function(e,t,a){return Object(s.a)(a)},mappingYesNo:function(e,t,a){return Object(n.a)("yes_no",a)},hideDialog:function(){this.$emit("hideDialog")},openDialog:function(e){this.showDialog=!0,this.selectedData=e||{asset_id:this.assetId,pay_day:null,out_account_id:null}},openDetailDialog:function(e){this.showDetailDialog=!0,this.selectedDetailData=e},deleteInsuranceAsset:function(e){var t=this;this.$confirm("確定要刪除嗎？","",{confirmButtonText:"確定",cancelButtonText:"取消"}).then(function(){t.$store.dispatch("DeleteInsuranceAssetData",e)}).catch(function(){})}}},E=Object(p.a)(j,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.openDialog()}}},[e._v("新增")])],1),e._v(" "),a("el-table",{attrs:{data:e.queryList,stripe:"","header-cell-class-name":"table-header"}},[a("el-table-column",{attrs:{label:"名稱",align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.openDetailDialog(t.row)}}},[e._v(e._s(t.row.insurance_name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{formatter:e.formatDateTime,label:"購買日期",prop:"start_date",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{formatter:e.formatDateTime,label:"預計到期日",prop:"expected_end_date",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{formatter:e.mappingYesNo,label:"是否贖回",prop:"has_closed",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"預計投入金額",prop:"expected_spend",align:"right"}}),e._v(" "),a("el-table-column",{attrs:{label:"實際投入金額",prop:"actual_spend",align:"right"}}),e._v(" "),a("el-table-column",{attrs:{label:"報酬率",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.ROI?t.row.ROI+"%":""))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"損益",prop:"gain_lose",align:"right"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(a){e.openDialog(t.row)}}},[e._v("\n          编辑\n        ")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.deleteInsuranceAsset(t.row.insurance_id)}}},[e._v("\n          刪除\n        ")])]}}])})],1),e._v(" "),a("operating-dialog",{attrs:{"show-dialog":e.showDialog,"raw-data":e.selectedData},on:{hideDialog:function(t){e.showDialog=!1}}}),e._v(" "),a("detail-dialog",{attrs:{"show-dialog":e.showDetailDialog,"parent-data":e.selectedDetailData},on:{hideDialog:function(t){e.showDetailDialog=!1}}})],1)},[],!1,null,null,null);E.options.__file="index.vue";var N=E.exports,I=a("zbHW"),M={props:{showDialog:{type:Boolean,default:!1},rawData:{type:Object,default:null}},data:function(){return{form:{},loanExecuteType:I.a}},watch:{rawData:function(e){this.form=JSON.parse(c()(e)),this.form.excute_date&&(this.form.excute_date=d()(this.form.excute_date+" UTC"))}},methods:{hideDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$emit("hideDialog",e)},submitForm:function(){var e=this;(this.rawData.distinct_number?this.$store.dispatch("UpdateLoanDetailData",this.form):this.$store.dispatch("AddLoanDetailData",this.form)).then(function(t){e.hideDialog(!0)})}}},B=Object(p.a)(M,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.showDialog,"show-close":!1,"append-to-body":"",title:"資料登錄"}},[a("el-form",{attrs:{"label-width":"130px"}},[a("el-form-item",{attrs:{label:"日期"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"選擇日期"},model:{value:e.form.excute_date,callback:function(t){e.$set(e.form,"excute_date",t)},expression:"form.excute_date"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"類型"}},[a("el-select",{attrs:{placeholder:"選擇類型"},model:{value:e.form.loan_excute_type,callback:function(t){e.$set(e.form,"loan_excute_type",t)},expression:"form.loan_excute_type"}},e._l(e.loanExecuteType,function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"金額"}},[a("el-input",{staticClass:"input-medium",attrs:{autocomplete:"off",placeholder:"償還本金需填負值"},model:{value:e.form.excute_price,callback:function(t){e.$set(e.form,"excute_price",t)},expression:"form.excute_price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"備註"}},[a("el-input",{attrs:{rows:3,autocomplete:"off",type:"textarea"},model:{value:e.form.memo,callback:function(t){e.$set(e.form,"memo",t)},expression:"form.memo"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.hideDialog}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("確定")])],1)],1)},[],!1,null,null,null);B.options.__file="DetailOperatingDialog.vue";var U={components:{OperatingDialog:B.exports},props:{showDialog:{type:Boolean,default:!1},parentData:{type:Object,default:null}},data:function(){return{showMaintainDialog:!1,selectedData:{}}},computed:l()({},Object(i.c)({queryList:function(e){return e.otherAssets.liability.liabilityDetailList}})),watch:{parentData:{immediate:!0,deep:!0,handler:function(e){e.loan_id&&this.$store.dispatch("GetLoanDetailList",e.loan_id)}}},methods:{formatDateTime:function(e,t,a){return Object(s.a)(a)},mappingName:function(e,t,a){return Object(n.a)(t.property,a)},hideDialog:function(){this.$emit("hideDialog")},openMaintainDetailDialog:function(e){this.showMaintainDialog=!0,this.selectedData=e||{loan_id:this.parentData.loan_id,excute_amount:"",excute_price:"",memo:""}},closeMaintainDialog:function(e){this.showMaintainDialog=!1,e&&this.$store.dispatch("GetLoanDetailList",this.parentData.loan_id)},deleteDetail:function(e){var t=this;this.$confirm("確定要刪除嗎？","",{confirmButtonText:"確定",cancelButtonText:"取消"}).then(function(){return t.$store.dispatch("DeleteLoanDetailData",e)}).then(function(){t.$store.dispatch("GetLoanDetailList",t.parentData.loan_id)}).catch(function(){})}}},z=Object(p.a)(U,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.showDialog,title:e.parentData.loan_name+" 歷程",width:"80%"},on:{close:e.hideDialog}},[a("el-table",{attrs:{data:e.queryList,stripe:"","header-cell-class-name":"table-header"}},[a("el-table-column",{attrs:{formatter:e.formatDateTime,label:"日期",prop:"excute_date",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{formatter:e.mappingName,label:"類型",prop:"loan_excute_type",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"金額",prop:"excute_price",align:"right"}}),e._v(" "),a("el-table-column",{attrs:{label:"備註",prop:"memo",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(a){e.openMaintainDetailDialog(t.row)}}},[e._v("编辑")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.deleteDetail(t.row.distinct_number)}}},[e._v("刪除")])]}}])})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.openMaintainDetailDialog()}}},[e._v("新增")])],1),e._v(" "),a("operating-dialog",{attrs:{"show-dialog":e.showMaintainDialog,"raw-data":e.selectedData},on:{hideDialog:e.closeMaintainDialog}})],1)},[],!1,null,null,null);z.options.__file="DetailDialog.vue";var G=z.exports,F={props:{showDialog:{type:Boolean,default:!1},loanId:{type:Number,default:null}},data:function(){return{loanType:I.b,yesNo:S.d,form:{loan_index:null}}},computed:l()({},Object(i.c)({accountSelectList:function(e){return e.setting.menu.account.accountSelectList}})),created:function(){var e=this;this.loanId&&this.$store.dispatch("GetLiabilityById",this.loanId).then(function(t){e.form=t.data,e.form.apply_date=d()(e.form.apply_date),e.form.grace_expire_date=d()(e.form.grace_expire_date)})},methods:{hideDialog:function(){this.$emit("hideDialog")},submitForm:function(){var e=this;(this.loanId?this.$store.dispatch("UpdateLiabilityData",this.form):this.$store.dispatch("AddLiabilityData",this.form)).then(function(t){e.hideDialog()})},getAccountName:function(e){this.form.account_name=this.accountSelectList.find(function(t){return t.key===e}).value}}},J=Object(p.a)(F,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.showDialog,"show-close":!1,title:"貸款"}},[a("el-form",{attrs:{"label-width":"130px"}},[a("el-form-item",{attrs:{label:"名稱"}},[a("el-input",{staticClass:"input-medium",attrs:{autocomplete:"off"},model:{value:e.form.loan_name,callback:function(t){e.$set(e.form,"loan_name",t)},expression:"form.loan_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"類別"}},[a("el-select",{attrs:{placeholder:"選擇類別"},model:{value:e.form.loan_type,callback:function(t){e.$set(e.form,"loan_type",t)},expression:"form.loan_type"}},e._l(e.loanType,function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"扣款帳戶"}},[a("el-select",{attrs:{placeholder:"選擇帳戶"},on:{change:e.getAccountName},model:{value:e.form.account_id,callback:function(t){e.$set(e.form,"account_id",t)},expression:"form.account_id"}},e._l(e.accountSelectList,function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"利率"}},[a("el-input",{staticClass:"input-small",attrs:{autocomplete:"off",placeholder:"ex:1.31"},model:{value:e.form.interest_rate,callback:function(t){e.$set(e.form,"interest_rate",t)},expression:"form.interest_rate"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"年限"}},[a("el-input",{staticClass:"input-medium",attrs:{autocomplete:"off"},model:{value:e.form.period,callback:function(t){e.$set(e.form,"period",t)},expression:"form.period"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"貸款起始日期"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"選擇日期"},model:{value:e.form.apply_date,callback:function(t){e.$set(e.form,"apply_date",t)},expression:"form.apply_date"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"寬限到期日期"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"選擇日期"},model:{value:e.form.grace_expire_date,callback:function(t){e.$set(e.form,"grace_expire_date",t)},expression:"form.grace_expire_date"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"繳費日期"}},[a("el-input",{attrs:{autocomplete:"off",placeholder:"每月幾號"},model:{value:e.form.pay_day,callback:function(t){e.$set(e.form,"pay_day",t)},expression:"form.pay_day"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"借款金額"}},[a("el-input",{staticClass:"input-medium",attrs:{autocomplete:"off"},model:{value:e.form.amount,callback:function(t){e.$set(e.form,"amount",t)},expression:"form.amount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"是否清償"}},[a("el-radio-group",{model:{value:e.form.repayed,callback:function(t){e.$set(e.form,"repayed",t)},expression:"form.repayed"}},e._l(e.yesNo,function(t){return a("el-radio",{key:t.key,attrs:{label:t.key}},[e._v(e._s(t.value))])}))],1),e._v(" "),a("el-form-item",{attrs:{label:"排序"}},[a("el-input",{staticClass:"input-small",attrs:{autocomplete:"off",placeholder:"ex:1"},model:{value:e.form.loan_index,callback:function(t){e.$set(e.form,"loan_index",e._n(t))},expression:"form.loan_index"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.hideDialog}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("確定")])],1)],1)},[],!1,null,null,null);J.options.__file="OperatingDialog.vue";var q={components:{DetailDialog:G,OperatingDialog:J.exports},data:function(){return{showDialog:!1,showDetailDialog:!1,selectedId:null,selectedDetailData:{}}},computed:l()({},Object(i.c)({queryList:function(e){return e.otherAssets.liability.liabilityContentList}})),mounted:function(){this.$store.dispatch("GetLiabilityList")},methods:{formatDateTime:function(e,t,a){return Object(s.a)(a)},mappingYesNo:function(e,t,a){return Object(n.a)("yes_no",a)},mappingName:function(e,t,a){return Object(n.a)(t.property,a)},hideDialog:function(){this.$emit("hideDialog")},openDialog:function(e){this.selectedId=e,this.showDialog=!0},openDetailDialog:function(e){this.showDetailDialog=!0,this.selectedDetailData=e},deleteLiability:function(e){var t=this;this.$confirm("確定要刪除嗎？","",{confirmButtonText:"確定",cancelButtonText:"取消"}).then(function(){t.$store.dispatch("DeleteLiabilityData",e)}).then(function(){t.$store.dispatch("GetLiabilityList")}).catch(function(){})}}},H=Object(p.a)(q,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.openDialog()}}},[e._v("新增")])],1),e._v(" "),a("el-table",{attrs:{data:e.queryList,stripe:"","header-cell-class-name":"table-header"}},[a("el-table-column",{attrs:{label:"名稱",align:"right"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.openDetailDialog(t.row)}}},[e._v(e._s(t.row.loan_name))])]}}])}),e._v(" "),a("el-table-column",{attrs:{formatter:e.formatDateTime,label:"貸款日期",prop:"apply_date",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{formatter:e.formatDateTime,label:"寬限到期日期",prop:"grace_expire_date",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{formatter:e.mappingName,label:"類型",prop:"loan_type",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"貸款總金額",prop:"amount",align:"right"}}),e._v(" "),a("el-table-column",{attrs:{label:"剩餘金額",prop:"remaining",align:"right"}}),e._v(" "),a("el-table-column",{attrs:{label:"總花費金額",prop:"total_payed",align:"right"}}),e._v(" "),a("el-table-column",{attrs:{formatter:e.mappingYesNo,label:"是否清償",prop:"repayed",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(a){e.openDialog(t.row.loan_id)}}},[e._v("\n          编辑\n        ")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.deleteLiability(t.row.loan_id)}}},[e._v("\n          刪除\n        ")])]}}])})],1),e._v(" "),e.showDialog?a("operating-dialog",{attrs:{"show-dialog":e.showDialog,"loan-id":e.selectedId},on:{hideDialog:function(t){e.showDialog=!1}}}):e._e(),e._v(" "),a("detail-dialog",{attrs:{"show-dialog":e.showDetailDialog,"parent-data":e.selectedDetailData},on:{hideDialog:function(t){e.showDetailDialog=!1}}})],1)},[],!1,null,null,null);H.options.__file="index.vue";var Y=H.exports,P={props:{showDialog:{type:Boolean,default:!1},rawData:{type:Object,default:null}},data:function(){return{form:{},stockExcuteType:m.f}},computed:l()({},Object(i.c)({accountSelectList:function(e){return e.setting.menu.account.accountSelectList}})),watch:{rawData:function(e){this.form=JSON.parse(c()(e)),this.form.excute_date&&(this.form.excute_date=d()(this.form.excute_date+" UTC"))}},created:function(){this.$store.dispatch("GetAccountSelection")},methods:{hideDialog:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$emit("hideDialog",e)},submitForm:function(){var e=this;(this.rawData.distinct_number?this.$store.dispatch("UpdateStockDetailData",this.form):this.$store.dispatch("AddStockDetailData",this.form)).then(function(t){e.hideDialog(!0)})},getAccountName:function(e){this.form.account_name=this.accountSelectList.find(function(t){return t.key===e}).value}}},R=Object(p.a)(P,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.showDialog,"show-close":!1,"append-to-body":"",title:"股票交易"}},[a("el-form",{attrs:{"label-width":"130px"}},[a("el-form-item",{attrs:{label:"交易日期"}},[a("el-date-picker",{attrs:{type:"date",placeholder:"選擇日期"},model:{value:e.form.excute_date,callback:function(t){e.$set(e.form,"excute_date",t)},expression:"form.excute_date"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"交易類型"}},[a("el-select",{attrs:{placeholder:"選擇交易類型"},model:{value:e.form.excute_type,callback:function(t){e.$set(e.form,"excute_type",t)},expression:"form.excute_type"}},e._l(e.stockExcuteType,function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"交易數量"}},[a("el-input",{staticClass:"input-medium",attrs:{autocomplete:"off",placeholder:"單位：股"},model:{value:e.form.excute_amount,callback:function(t){e.$set(e.form,"excute_amount",t)},expression:"form.excute_amount"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"交易價格"}},[a("el-input",{staticClass:"input-medium",attrs:{autocomplete:"off",placeholder:"總金額"},model:{value:e.form.excute_price,callback:function(t){e.$set(e.form,"excute_price",t)},expression:"form.excute_price"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"連結帳戶"}},[a("el-select",{attrs:{placeholder:"選擇帳戶類別"},on:{change:e.getAccountName},model:{value:e.form.account_id,callback:function(t){e.$set(e.form,"account_id",t)},expression:"form.account_id"}},e._l(e.accountSelectList.filter(function(e){return"normal"===e.type||"finance"===e.type}),function(e){return a("el-option",{key:e.key,attrs:{label:e.value,value:e.key}})}))],1),e._v(" "),a("el-form-item",{attrs:{label:"交易日誌"}},[a("el-input",{attrs:{rows:3,autocomplete:"off",type:"textarea"},model:{value:e.form.memo,callback:function(t){e.$set(e.form,"memo",t)},expression:"form.memo"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.hideDialog}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("確定")])],1)],1)},[],!1,null,null,null);R.options.__file="DetailOperatingDialog.vue";var W={components:{OperatingDialog:R.exports},props:{showDialog:{type:Boolean,default:!1},parentData:{type:Object,default:null}},data:function(){return{showMaintainDialog:!1,selectedData:{}}},computed:l()({},Object(i.c)({queryList:function(e){return e.otherAssets.stockAsset.stockDetailList}})),watch:{parentData:{immediate:!0,deep:!0,handler:function(e){e.stock_id&&this.$store.dispatch("GetStockDetailList",e.stock_id)}}},methods:{formatDateTime:function(e,t,a){return Object(s.a)(a)},mappingName:function(e,t,a){return Object(n.a)(t.property,a)},hideDialog:function(){this.$emit("hideDialog")},openMaintainDetailDialog:function(e){this.showMaintainDialog=!0,this.selectedData=e||{stock_id:this.parentData.stock_id,excute_amount:"",excute_price:"",memo:""}},closeMaintainDialog:function(e){this.showMaintainDialog=!1,e&&this.$store.dispatch("GetStockAssetList",this.parentData.asset_id)},deleteSubCode:function(e){var t=this;this.$confirm("確定要刪除嗎？","",{confirmButtonText:"確定",cancelButtonText:"取消"}).then(function(){return t.$store.dispatch("DeleteStockDetailData",e)}).then(function(){t.$store.dispatch("GetStockAssetList",t.parentData.asset_id)}).catch(function(){})}}},K=Object(p.a)(W,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.showDialog,title:e.parentData.stock_name+" 交易紀錄",width:"80%"},on:{close:e.hideDialog}},[a("el-table",{attrs:{data:e.queryList,stripe:"","header-cell-class-name":"table-header"}},[a("el-table-column",{attrs:{formatter:e.formatDateTime,label:"日期",prop:"excute_date",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{formatter:e.mappingName,label:"類型",prop:"excute_type",align:"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"數量",prop:"excute_amount",align:"right"}}),e._v(" "),a("el-table-column",{attrs:{label:"價格",prop:"excute_price",align:"right"}}),e._v(" "),a("el-table-column",{attrs:{label:"關連帳戶",prop:"account_name",align:"right"}}),e._v(" "),a("el-table-column",{attrs:{label:"交易日誌",prop:"memo",align:"left"}}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(a){e.openMaintainDetailDialog(t.row)}}},[e._v("\n          编辑\n        ")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.deleteSubCode(t.row.distinct_number)}}},[e._v("\n          刪除\n        ")])]}}])})],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.openMaintainDetailDialog()}}},[e._v("\n      新增\n    ")])],1),e._v(" "),a("operating-dialog",{attrs:{"show-dialog":e.showMaintainDialog,"raw-data":e.selectedData},on:{hideDialog:e.closeMaintainDialog}})],1)},[],!1,null,null,null);K.options.__file="DetailDialog.vue";var Q=K.exports,Z={props:{showDialog:{type:Boolean,default:!1},rawData:{type:Object,default:null}},data:function(){return{otherAssetType:S.c,yesNo:S.d,form:{}}},watch:{rawData:function(e){this.form=JSON.parse(c()(e))}},created:function(){this.$store.dispatch("GetAccountSelection")},methods:{hideDialog:function(){this.$emit("hideDialog")},submitForm:function(){var e=this;(this.rawData.stock_id?this.$store.dispatch("UpdateStockAssetData",this.form):this.$store.dispatch("AddStockAssetData",this.form)).then(function(t){e.hideDialog()})}}},V=Object(p.a)(Z,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-dialog",{attrs:{visible:e.showDialog,"show-close":!1,title:"股票資產"}},[a("el-form",{attrs:{"label-width":"130px"}},[a("el-form-item",{attrs:{label:"股票代號"}},[a("el-input",{staticClass:"input-medium",attrs:{disabled:!!e.rawData.stock_id,autocomplete:"off"},model:{value:e.form.stock_code,callback:function(t){e.$set(e.form,"stock_code",t)},expression:"form.stock_code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"股票名稱"}},[a("el-input",{staticClass:"input-medium",attrs:{autocomplete:"off"},model:{value:e.form.stock_name,callback:function(t){e.$set(e.form,"stock_name",t)},expression:"form.stock_name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"預計投入總額"}},[a("el-input",{staticClass:"input-medium",attrs:{autocomplete:"off"},model:{value:e.form.expected_spend,callback:function(t){e.$set(e.form,"expected_spend",t)},expression:"form.expected_spend"}})],1)],1),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:e.hideDialog}},[e._v("取消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("確定")])],1)],1)},[],!1,null,null,null);V.options.__file="OperatingDialog.vue";var X={components:{DetailDialog:Q,OperatingDialog:V.exports},props:{assetId:{type:Number,default:0}},data:function(){return{showDialog:!1,showDetailDialog:!1,selectedDetailData:{},selectedData:{}}},computed:l()({},Object(i.c)({queryList:function(e){return e.otherAssets.stockAsset.stockContentList}})),watch:{assetId:{immediate:!0,handler:function(e){this.$store.dispatch("GetStockAssetList",e)}}},methods:{formatDateTime:function(e,t,a){return Object(s.a)(a)},hideDialog:function(){this.$emit("hideDialog")},openDialog:function(e){this.showDialog=!0,this.selectedData=e||{asset_id:this.assetId}},openDetailDialog:function(e){this.showDetailDialog=!0,this.selectedDetailData=e},deleteStockAsset:function(e){var t=this;this.$confirm("確定要刪除嗎？","",{confirmButtonText:"確定",cancelButtonText:"取消"}).then(function(){t.$store.dispatch("DeleteStockAssetData",e)}).catch(function(){})}}},ee=Object(p.a)(X,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",[a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.openDialog()}}},[e._v("新增")])],1),e._v(" "),a("el-table",{attrs:{data:e.queryList,stripe:"","header-cell-class-name":"table-header"}},[a("el-table-column",{attrs:{label:"代號",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text"},on:{click:function(a){e.openDetailDialog(t.row)}}},[e._v(e._s(t.row.stock_code))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"名稱",prop:"stock_name",align:"right"}}),e._v(" "),a("el-table-column",{attrs:{label:"預計投入金額",prop:"expected_spend",align:"right"}}),e._v(" "),a("el-table-column",{attrs:{label:"現價",prop:"now_price",align:"right"}}),e._v(" "),a("el-table-column",{attrs:{label:"持有股數",prop:"hold_amount",align:"right"}}),e._v(" "),a("el-table-column",{attrs:{label:"買均價",prop:"buy_price",align:"right"}}),e._v(" "),a("el-table-column",{attrs:{label:"賣均價",prop:"sold_price",align:"right"}}),e._v(" "),a("el-table-column",{attrs:{formatter:e.formatDateTime,label:"最初買入時間",prop:"buy_date",align:"center",width:"110"}}),e._v(" "),a("el-table-column",{attrs:{formatter:e.formatDateTime,label:"最後賣出時間",prop:"sold_date",align:"center",width:"110"}}),e._v(" "),a("el-table-column",{attrs:{label:"損益",prop:"gain_lose",align:"right"}}),e._v(" "),a("el-table-column",{attrs:{label:"報酬率",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.ROI?t.row.ROI+"%":""))])]}}])}),e._v(" "),a("el-table-column",{attrs:{label:"目前殖利率",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("span",[e._v(e._s(t.row.dividend_yield?t.row.dividend_yield+"%":""))])]}}])}),e._v(" "),a("el-table-column",{attrs:{fixed:"right",label:"操作",width:"150",align:"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"success",size:"small"},on:{click:function(a){e.openDialog(t.row)}}},[e._v("\n          编辑\n        ")]),e._v(" "),a("el-button",{attrs:{type:"danger",size:"small"},on:{click:function(a){e.deleteStockAsset(t.row.stock_id)}}},[e._v("\n          刪除\n        ")])]}}])})],1),e._v(" "),a("operating-dialog",{attrs:{"show-dialog":e.showDialog,"raw-data":e.selectedData},on:{hideDialog:function(t){e.showDialog=!1}}}),e._v(" "),a("detail-dialog",{attrs:{"show-dialog":e.showDetailDialog,"parent-data":e.selectedDetailData},on:{hideDialog:function(t){e.showDetailDialog=!1}}})],1)},[],!1,null,null,null);ee.options.__file="index.vue";var te={name:"OtherAssetsDetail",components:{EstateContent:x,InsurenceContent:N,Liability:Y,StockContent:ee.exports},data:function(){return{activeTab:"貸款"}},computed:l()({},Object(i.c)({itemList:function(e){return e.otherAssets.otherAssets.itemList}})),created:function(){this.$store.dispatch("GetOtherAssetItems")},methods:{getComponentName:function(e){switch(e){case"Stock":return"StockContent";case"Insurance":return"InsurenceContent";case"Estate":return"EstateContent"}}}},ae=Object(p.a)(te,function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-tabs",{staticClass:"page",model:{value:e.activeTab,callback:function(t){e.activeTab=t},expression:"activeTab"}},[a("el-tab-pane",{attrs:{label:"貸款",name:"貸款",lazy:""}},[a("Liability")],1),e._v(" "),e._l(e.itemList,function(t,o){return a("el-tab-pane",{key:o,attrs:{label:t.asset_name,name:t.asset_name,lazy:""}},[e.activeTab===t.asset_name?a(e.getComponentName(t.asset_type),{tag:"component",attrs:{"asset-id":t.asset_id}}):e._e()],1)})],2)},[],!1,null,null,null);ae.options.__file="index.vue";t.default=ae.exports},QC1J:function(e,t,a){"use strict";a.d(t,"a",function(){return o});var o=[{key:"normal",value:"一般帳戶"},{key:"finance",value:"財務規劃帳戶"},{key:"eWallet",value:"電子錢包"},{key:"gift",value:"禮券"},{key:"cash",value:"現金"}]},"gDS+":function(e,t,a){e.exports={default:a("oh+g"),__esModule:!0}},"oh+g":function(e,t,a){var o=a("WEpk"),l=o.JSON||(o.JSON={stringify:JSON.stringify});e.exports=function(e){return l.stringify.apply(l,arguments)}},rrfz:function(e,t,a){"use strict";a.d(t,"d",function(){return o}),a.d(t,"a",function(){return l}),a.d(t,"c",function(){return i}),a.d(t,"b",function(){return n});var o=[{key:"Y",value:"是"},{key:"N",value:"否"}],l=[{key:"Account",value:"銀行帳戶"},{key:"CreditCard",value:"信用卡"},{key:"Money",value:"現金"},{key:"Loan",value:"貸款"}],i=[{key:"Stock",value:"股票",index:1,table:"Stock_Detail",type:"Asset"},{key:"Insurance",value:"保險",index:2,table:"Insurance_Journal",type:"Asset"},{key:"Estate",value:"房地產",index:3,table:"Estate_Journal",type:"Asset"}],n=[{key:"Transfer",value:"轉帳",index:2,table:"Account"},{key:"CreditCardRepayment",value:"繳信用卡款",index:4,table:"CreditCard"},{key:"LoanRepayment",value:"繳貸款",index:5,table:"Loan"},{key:"Premiums",value:"繳保費",index:6,table:"Insurance"}]},zbHW:function(e,t,a){"use strict";a.d(t,"b",function(){return o}),a.d(t,"a",function(){return l});var o=[{key:"unsecured",value:"信貸"},{key:"mortgage",value:"房貸"},{key:"financial",value:"理財型房貸"},{key:"secured",value:"擔保貸款"}],l=[{key:"principal",value:"償還本金"},{key:"interest",value:"支付利息"},{key:"increment",value:"增貸"},{key:"fee",value:"雜費"}]}}]);